# 科技官网CMS系统数据库设计

## 1. 概述

本文档为基于RuoYi-Vue框架的科技官网CMS系统数据库设计方案。根据需求分析，该系统主要包括内容管理、分类管理、联盟成员展示、解决方案展示、客户案例展示、留言管理等功能。数据库设计充分利用RuoYi-Vue框架已有的系统表结构，并进行了针对性的扩展。

## 2. 系统需求分析

根据需求文档，科技官网CMS系统需要实现以下功能：

1. 展示科技公司的核心产品或服务：软件开发、软件外包、知识产权代理、企业宣传
2. 面向企业客户的官方网站
3. 提供联盟成员企业简介分类展示
4. 联盟成员解决方案分类展示
5. 文章独立展示
6. 联系我们
7. 宣传活动展示
8. 首页需要轮播图、专业解决方案、企业动态、客户案例、联盟成员等板块
9. 留言功能
10. 响应式设计，适配移动端
11. 数据分析和统计功能

## 3. 数据库表设计

### 3.1 内容分类表(cms_category)

用于管理网站内容的分类，包括解决方案、企业简介、客户案例、联盟成员、知识库等分类。

```sql
CREATE TABLE `cms_category` (
  `category_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '分类ID',
  `parent_id` bigint(20) DEFAULT '0' COMMENT '父分类ID',
  `category_name` varchar(50) NOT NULL COMMENT '分类名称',
  `category_type` varchar(20) NOT NULL COMMENT '分类类型（article:文章，solution:解决方案，member:联盟成员，case:客户案例）',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `icon` varchar(100) DEFAULT '' COMMENT '分类图标',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='内容分类表';
```

### 3.2 文章表(cms_article)

用于存储网站的文章内容，包括新闻、公告、企业动态等。

```sql
CREATE TABLE `cms_article` (
  `article_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '文章ID',
  `category_id` bigint(20) NOT NULL COMMENT '分类ID',
  `title` varchar(100) NOT NULL COMMENT '文章标题',
  `content` longtext COMMENT '文章内容',
  `summary` varchar(500) DEFAULT '' COMMENT '文章摘要',
  `thumbnail` varchar(255) DEFAULT '' COMMENT '缩略图',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `view_count` int(11) DEFAULT '0' COMMENT '浏览次数',
  `is_top` char(1) DEFAULT '0' COMMENT '是否置顶（0否 1是）',
  `is_recommend` char(1) DEFAULT '0' COMMENT '是否推荐（0否 1是）',
  `tags` varchar(255) DEFAULT '' COMMENT '文章标签',
  `source` varchar(100) DEFAULT '' COMMENT '来源',
  `author` varchar(64) DEFAULT '' COMMENT '作者',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`article_id`),
  KEY `idx_category_id` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='文章表';
```

### 3.3 解决方案表(cms_solution)

用于存储专业解决方案的详细信息。

```sql
CREATE TABLE `cms_solution` (
  `solution_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '解决方案ID',
  `category_id` bigint(20) NOT NULL COMMENT '分类ID',
  `title` varchar(100) NOT NULL COMMENT '解决方案标题',
  `content` longtext COMMENT '解决方案内容',
  `summary` varchar(500) DEFAULT '' COMMENT '解决方案摘要',
  `cover_img` varchar(255) DEFAULT '' COMMENT '封面图片',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `view_count` int(11) DEFAULT '0' COMMENT '浏览次数',
  `is_top` char(1) DEFAULT '0' COMMENT '是否置顶（0否 1是）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`solution_id`),
  KEY `idx_category_id` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='解决方案表';
```

### 3.4 联盟成员表(cms_member)

用于存储联盟成员企业的信息。

```sql
CREATE TABLE `cms_member` (
  `member_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '成员ID',
  `category_id` bigint(20) NOT NULL COMMENT '分类ID',
  `member_name` varchar(100) NOT NULL COMMENT '企业名称',
  `logo` varchar(255) DEFAULT '' COMMENT '企业logo',
  `description` text COMMENT '企业简介',
  `website` varchar(255) DEFAULT '' COMMENT '企业网站',
  `contact` varchar(100) DEFAULT '' COMMENT '联系人',
  `phone` varchar(20) DEFAULT '' COMMENT '联系电话',
  `email` varchar(100) DEFAULT '' COMMENT '电子邮箱',
  `address` varchar(255) DEFAULT '' COMMENT '企业地址',
  `solution_ids` varchar(500) DEFAULT '' COMMENT '关联解决方案ID，多个用逗号分隔',
  `main_business` varchar(500) DEFAULT '' COMMENT '主营业务',
  `establish_time` datetime DEFAULT NULL COMMENT '成立时间',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `is_recommend` char(1) DEFAULT '0' COMMENT '是否推荐（0否 1是）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`member_id`),
  KEY `idx_category_id` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='联盟成员表';
```

### 3.5 客户案例表(cms_case)

用于存储客户案例信息。

```sql
CREATE TABLE `cms_case` (
  `case_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '案例ID',
  `category_id` bigint(20) NOT NULL COMMENT '分类ID',
  `title` varchar(100) NOT NULL COMMENT '案例标题',
  `content` longtext COMMENT '案例内容',
  `summary` varchar(500) DEFAULT '' COMMENT '案例摘要',
  `cover_img` varchar(255) DEFAULT '' COMMENT '封面图片',
  `client_name` varchar(100) DEFAULT '' COMMENT '客户名称',
  `industry` varchar(50) DEFAULT '' COMMENT '所属行业',
  `service_type` varchar(50) DEFAULT '' COMMENT '服务类型',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `view_count` int(11) DEFAULT '0' COMMENT '浏览次数',
  `is_recommend` char(1) DEFAULT '0' COMMENT '是否推荐（0否 1是）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`case_id`),
  KEY `idx_category_id` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='客户案例表';
```

### 3.6 轮播图表(cms_banner)

用于存储网站首页轮播图信息。

```sql
CREATE TABLE `cms_banner` (
  `banner_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '轮播图ID',
  `title` varchar(100) NOT NULL COMMENT '标题',
  `image_url` varchar(255) NOT NULL COMMENT '图片路径',
  `link_url` varchar(255) DEFAULT '' COMMENT '链接地址',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`banner_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='轮播图表';
```

### 3.7 留言表(cms_message)

用于存储用户留言信息。

```sql
CREATE TABLE `cms_message` (
  `message_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '留言ID',
  `name` varchar(50) NOT NULL COMMENT '姓名',
  `phone` varchar(20) NOT NULL COMMENT '电话',
  `email` varchar(100) DEFAULT '' COMMENT '邮箱',
  `company` varchar(100) DEFAULT '' COMMENT '公司名称',
  `content` text NOT NULL COMMENT '留言内容',
  `status` char(1) DEFAULT '0' COMMENT '状态（0未处理 1已处理）',
  `process_note` varchar(500) DEFAULT '' COMMENT '处理备注',
  `process_time` datetime DEFAULT NULL COMMENT '处理时间',
  `ip_address` varchar(128) DEFAULT '' COMMENT 'IP地址',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  PRIMARY KEY (`message_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='留言表';
```

### 3.8 友情链接表(cms_link)

用于存储网站底部友情链接信息。

```sql
CREATE TABLE `cms_link` (
  `link_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '链接ID',
  `link_name` varchar(50) NOT NULL COMMENT '链接名称',
  `link_url` varchar(255) NOT NULL COMMENT '链接地址',
  `logo` varchar(255) DEFAULT '' COMMENT '链接logo',
  `status` char(1) DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `sort` int(4) DEFAULT '0' COMMENT '显示顺序',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`link_id`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='友情链接表';
```

### 3.9 网站配置表(cms_config)

用于存储网站基本配置信息。

```sql
CREATE TABLE `cms_config` (
  `config_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '配置ID',
  `config_key` varchar(50) NOT NULL COMMENT '配置键',
  `config_value` text NOT NULL COMMENT '配置值',
  `config_name` varchar(100) DEFAULT '' COMMENT '配置名称',
  `config_type` char(1) DEFAULT 'N' COMMENT '配置类型（N普通 S系统）',
  `create_by` varchar(64) DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`config_id`),
  UNIQUE KEY `uk_config_key` (`config_key`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='网站配置表';
```

### 3.10 页面访问统计表(cms_visit_log)

用于记录网站页面访问统计数据。

```sql
CREATE TABLE `cms_visit_log` (
  `log_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '日志ID',
  `page_url` varchar(255) NOT NULL COMMENT '访问页面URL',
  `page_title` varchar(255) DEFAULT '' COMMENT '页面标题',
  `ipaddr` varchar(128) DEFAULT '' COMMENT 'IP地址',
  `browser` varchar(50) DEFAULT '' COMMENT '浏览器类型',
  `os` varchar(50) DEFAULT '' COMMENT '操作系统',
  `device` varchar(50) DEFAULT '' COMMENT '设备类型（PC、Mobile）',
  `visit_time` datetime NOT NULL COMMENT '访问时间',
  `stay_time` int(11) DEFAULT '0' COMMENT '停留时长(秒)',
  `source` varchar(255) DEFAULT '' COMMENT '来源页面',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`log_id`),
  KEY `idx_visit_time` (`visit_time`)
) ENGINE=InnoDB AUTO_INCREMENT=100 COMMENT='页面访问统计表';
```

## 4. 数据库表关系说明

1. **分类与内容的关系**：cms_category表定义了各种内容的分类，与cms_article、cms_solution、cms_member、cms_case等表通过category_id关联。

2. **父子分类关系**：cms_category表通过parent_id字段实现分类的层级结构，支持多级分类。

3. **成员与解决方案的关系**：cms_member表通过solution_ids字段与cms_solution表进行多对多关联。

## 5. 初始化数据建议

### 5.1 内容分类初始化数据

```sql
-- 解决方案分类
INSERT INTO `cms_category` VALUES (1, 0, '软件开发解决方案', 'solution', '0', 1, '', 'admin', SYSDATE(), '', NULL, '软件开发相关解决方案');
INSERT INTO `cms_category` VALUES (2, 0, '软件外包解决方案', 'solution', '0', 2, '', 'admin', SYSDATE(), '', NULL, '软件外包相关解决方案');
INSERT INTO `cms_category` VALUES (3, 0, '知识产权解决方案', 'solution', '0', 3, '', 'admin', SYSDATE(), '', NULL, '知识产权相关解决方案');

-- 文章分类
INSERT INTO `cms_category` VALUES (4, 0, '公司新闻', 'article', '0', 1, '', 'admin', SYSDATE(), '', NULL, '公司新闻动态');
INSERT INTO `cms_category` VALUES (5, 0, '行业动态', 'article', '0', 2, '', 'admin', SYSDATE(), '', NULL, '行业相关动态');
INSERT INTO `cms_category` VALUES (6, 0, '技术分享', 'article', '0', 3, '', 'admin', SYSDATE(), '', NULL, '技术经验分享');

-- 联盟成员分类
INSERT INTO `cms_category` VALUES (7, 0, '软件开发企业', 'member', '0', 1, '', 'admin', SYSDATE(), '', NULL, '软件开发相关企业');
INSERT INTO `cms_category` VALUES (8, 0, '知识产权服务企业', 'member', '0', 2, '', 'admin', SYSDATE(), '', NULL, '知识产权服务相关企业');

-- 客户案例分类
INSERT INTO `cms_category` VALUES (9, 0, '软件开发案例', 'case', '0', 1, '', 'admin', SYSDATE(), '', NULL, '软件开发成功案例');
INSERT INTO `cms_category` VALUES (10, 0, '软件外包案例', 'case', '0', 2, '', 'admin', SYSDATE(), '', NULL, '软件外包成功案例');
INSERT INTO `cms_category` VALUES (11, 0, '知识产权代理案例', 'case', '0', 3, '', 'admin', SYSDATE(), '', NULL, '知识产权代理成功案例');
```

### 5.2 网站配置初始化数据

```sql
-- 网站基本配置
INSERT INTO `cms_config` VALUES (1, 'site_name', '科技联盟官网', '网站名称', 'S', 'admin', SYSDATE(), '', NULL, '网站名称');
INSERT INTO `cms_config` VALUES (2, 'site_logo', '/profile/logo/logo.png', '网站Logo', 'S', 'admin', SYSDATE(), '', NULL, '网站Logo图片路径');
INSERT INTO `cms_config` VALUES (3, 'site_description', '整合软著联盟资源，提供专业软件开发、软件外包、知识产权代理服务', '网站描述', 'S', 'admin', SYSDATE(), '', NULL, '网站简短描述');
INSERT INTO `cms_config` VALUES (4, 'site_keywords', '软件开发,软件外包,知识产权,软著,科技企业', '网站关键词', 'S', 'admin', SYSDATE(), '', NULL, '网站SEO关键词');
INSERT INTO `cms_config` VALUES (5, 'contact_phone', '400-888-8888', '联系电话', 'N', 'admin', SYSDATE(), '', NULL, '公司联系电话');
INSERT INTO `cms_config` VALUES (6, 'contact_email', 'contact@example.com', '联系邮箱', 'N', 'admin', SYSDATE(), '', NULL, '公司联系邮箱');
INSERT INTO `cms_config` VALUES (7, 'company_address', '北京市海淀区中关村科技园', '公司地址', 'N', 'admin', SYSDATE(), '', NULL, '公司详细地址');
INSERT INTO `cms_config` VALUES (8, 'copyright', '© 2023 科技联盟 All Rights Reserved.', '版权信息', 'S', 'admin', SYSDATE(), '', NULL, '网站底部版权信息');
INSERT INTO `cms_config` VALUES (9, 'icp', '京ICP备12345678号', '备案信息', 'S', 'admin', SYSDATE(), '', NULL, '网站备案信息');
```

## 6. 与RuoYi-Vue框架结合

本设计方案充分利用了RuoYi-Vue框架已有的功能模块和表结构，同时进行了针对性扩展：

1. **用户权限管理**：使用RuoYi-Vue原有的用户权限管理模块，包括sys_user、sys_role、sys_menu等表。

2. **系统管理**：使用RuoYi-Vue原有的系统管理模块，包括sys_config、sys_dict_type、sys_dict_data等表。

3. **代码生成**：可利用RuoYi-Vue的代码生成功能快速生成CMS模块的CRUD代码。

4. **数据统计与分析**：结合RuoYi-Vue原有的日志记录功能和新增的cms_visit_log表，实现网站访问数据的统计分析。

## 7. 实施建议

1. **代码生成配置**：利用RuoYi-Vue的代码生成器生成CMS相关表的管理功能，并进行适当的定制化开发。

2. **接口开发**：为前端网站提供必要的数据接口，包括内容展示、分类查询、留言提交等。

3. **响应式设计**：前端页面采用响应式设计，确保在各种设备上都能正常显示。

4. **数据迁移**：若有已有数据需迁移，可编写数据迁移脚本，将数据导入到新设计的表结构中。

5. **统计分析功能**：开发基于cms_visit_log表的数据统计分析功能，为运营决策提供支持。

## 8. 结论

本数据库设计方案基于RuoYi-Vue框架，针对科技官网CMS系统的具体需求进行了定制化设计。通过合理的表结构设计和数据关联，可以满足官网内容管理、展示及统计分析等各方面的需求，为用户提供一个功能完善、易于维护的科技官网CMS系统。 